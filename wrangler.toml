name = "citadel-pow-backend"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV 네임스페이스 (캐싱용)
[[kv_namespaces]]
binding = "CACHE"
id = "8d3fc0aee23d466bb05f94cd9bd842ef"

[vars]
ENVIRONMENT = "production"

# Blink API 설정
BLINK_API_ENDPOINT = "https://api.blink.sv/graphql"
BLINK_LIGHTNING_ADDRESS = "becadecitadel@blink.sv"

# Secret 환경변수는 wrangler secret put으로 설정:
# - BLINK_API_KEY (Secret) ✅ 설정 완료
# - DISCORD_WEBHOOK_URL (Secret) ✅ 설정 완료
# - DISCORD_BOT_TOKEN (Secret) - Discord Bot Token (REST API용)
# - POW_CHANNEL_ID (Secret) - POW 인증 채널 ID

# Organizer 설정은 Dashboard에서:
# - ORGANIZER_ROLE_IDS (Text)
# - ORGANIZER_DISCORD_IDS (Text)
